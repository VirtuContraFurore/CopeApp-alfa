<md-dialog layout="column" style="overflow-x: hidden"> 
	<md-toolbar>
		<div class="md-toolbar-tools">
		<h2 ng-if="!isVoted && !isLoading">Vota</h2>
		<h2 ng-if="isVoted && !isLoading">Risultati</h2>
		<span flex></span>
		<md-button class="md-icon-button" ng-click="cancel()"> 
			<md-icon class="material-icons">close</md-icon> 
		</md-button>
		</div>
	</md-toolbar>
	
	<div layout="column" flex layout-align="center center" ng-if="isLoading">
    	<md-progress-circular md-mode="indeterminate"></md-progress-circular>
    </div>
 
	<!-- Pagina di votaggio --> 
	<md-dialog-content layout-padding flex layout="column" ng-if="!isVoted && !isLoading">
		<div ng-bind-html="question|trustAsHtml"></div>
		<md-subheader style="background: white;">Risposte (voti rimasti: {{answerLeft}})</md-subheader>
		<div layout="row" layout-wrap>
			<div flex="50" ng-repeat="answer in answers">
				<md-checkbox ng-checked="exists(answer.answerId)"
					ng-click="toggle(answer.answerId)"> {{answer.answerContent.answerText }} </md-checkbox>
			</div>
		</div>
	</md-dialog-content> 
	
	<!-- Pagina di visualizzazione risultati --> 
	<md-dialog-content layout-padding flex layout="column" ng-if="isVoted && !isLoading">
		<!-- Sezione domanda -->
		
		<md-card style="padding:0 px;">
			
			<md-card-content layout-padding ng-bind-html="question|trustAsHtml">
				
			</md-card-content>
		</md-card>
		<!-- Sezione Risposte vincenti -->
		<md-subheader style="background: white;">Risposta piu' votata</md-subheader>
		<md-card style="padding:0 px;">
			<md-card-content layout-padding layout="column">
				<p ng-repeat="answer in winnerAnswer">{{answer.answerContent.answerText}}</p>
			</md-card-content>
		</md-card>
		<!-- Sezione risultati -->
		<md-subheader style="background: white;">Risultati</md-subheader>
		<canvas id="doughnut" style="padding:0px" class="chart chart-doughnut"
			chart-data="data" chart-labels="labels">
		</canvas>
		<!-- Sezione riepilogo -->
		<md-subheader style="background: white;">Riepilogo</md-subheader>
		<md-card style="padding:0 px;">
			<md-card-content layout-padding layout="column">
				
			</md-card-content>
		</md-card>
	</md-dialog-content>
	 
	<!-- Footer --> 
	<md-dialog-actions layout="row" ng-if="!isVoted && !isLoading"> 
		<md-button class="md-primary" ng-disabled="canVote" ng-click="sendVotes()">
			<md-icon class="material-icons">done</md-icon>
			Vota 
		</md-button>
	</md-dialog-actions> 
</md-dialog>